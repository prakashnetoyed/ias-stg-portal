{
  "version": 3,
  "sources": ["src/app/user-portal/pages/my-transactions/my-transactions.component.ts", "src/app/user-portal/pages/my-transactions/my-transactions.component.html"],
  "sourcesContent": ["import { CommonModule } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { environment } from '../../../../environments/environment';\nimport jsPDF from 'jspdf';\n\n\n@Component({\n  selector: 'app-my-transactions',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './my-transactions.component.html',\n  styleUrl: './my-transactions.component.scss'\n})\nexport class MyTransactionsComponent implements OnInit {\n\n  constructor(private http: HttpClient) { }\n  ngOnInit(): void {\n    this.mytransactions();\n  }\n  transactions: any[] = [];\n  mytransactions() {\n    this.http.get<any>(`${environment.apiUrl}/orders?populate=userOrderDetails&populate=createdBy&limit=0`)\n      .subscribe({\n        next: (res) => {\n          console.log(res);\n          this.transactions = res.data.data;\n          console.log(this.transactions);\n        },\n        error: (err) => {\n          console.error('Error fetching transactions:', err);\n        }\n      });\n  }\n downloadReceipt(tx: any) {\n  const doc = new jsPDF();\n\n  // Colors & Styles\n  const primaryColor = [44, 62, 80]; // Dark Gray\n  const secondaryColor = [100, 100, 100]; // Light Gray\n  const borderColor = [220, 220, 220];\n\n  // Header\n  doc.setFontSize(14);\n  doc.setFont(\"helvetica\", \"bold\");\n  doc.text(\"Indian Administrative\", 14, 15);\n  doc.text(\"Service Central Association\", 14, 22);\n\n  // Logo Placeholder (Optional, can insert image here)\n  // doc.addImage('logo.png', 'PNG', 170, 8, 25, 25);\n\n  // Billed To Section Box\n  doc.setDrawColor(borderColor[0], borderColor[1], borderColor[2]);\n  doc.setLineWidth(0.2);\n  doc.roundedRect(10, 30, 190, 50, 3, 3); // x,y,w,h,radius\n\n  doc.setFontSize(11);\n  doc.setFont(\"helvetica\", \"normal\");\n  doc.text(\"Billed to\", 14, 38);\n\n  doc.setFontSize(10);\n  doc.text(`${tx?.createdBy?.doptOfficer?.englishName || 'N/A'}`, 14, 45);\n  doc.text(`${tx?.createdBy?.email || 'N/A'}`, 14, 51);\n  doc.text(`${tx?.createdBy?.mobileNumber || 'N/A'}`, 14, 57);\n\n  // Transaction Details (Right Side inside box)\n  const startX = 120;\n  doc.setFontSize(10);\n  doc.text(`Bank Ref ID: ${tx?.bankTxnId || 'N/A'}`, startX, 38);\n  doc.text(`Payment Time: ${tx?.txnDate || 'N/A'}`, startX, 45);\n  doc.text(`Payment Method: ${tx?.paymentMode || 'N/A'}`, startX, 51);\n  doc.text(`Bank Name: ${tx?.bankName || 'N/A'}`, startX, 57);\n\n  // Transaction ID\n  doc.setFontSize(9);\n  doc.text(`Transaction ID: ${tx?.txnId || 'N/A'}`, 14, 72);\n\n  // Item Details Table Header\n  let posY = 90;\n  doc.setFillColor(245, 245, 245);\n  doc.rect(10, posY, 190, 10, \"F\");\n  doc.setFontSize(10);\n  doc.setFont(\"helvetica\", \"bold\");\n  doc.text(\"ITEM DETAIL\", 14, posY + 7);\n  doc.text(\"AMOUNT\", 180, posY + 7, { align: \"right\" });\n\n  // Item Row\n  posY += 15;\n  doc.setFont(\"helvetica\", \"normal\");\n  doc.text(\"Membership Fees\", 14, posY);\n  doc.text(`Rs ${tx?.txnAmount || 0}`, 180, posY, { align: \"right\" });\n  doc.setFontSize(9);\n  doc.setTextColor(120);\n  doc.text(\"Annual Membership\", 14, posY + 6);\n\n  // Total Row\n  posY += 20;\n  doc.setDrawColor(200, 200, 200);\n  doc.line(10, posY, 200, posY);\n  posY += 10;\n  doc.setFont(\"helvetica\", \"bold\");\n  doc.setFontSize(11);\n  doc.text(\"Total :\", 150, posY);\n  doc.text(`Rs ${tx?.txnAmount || 0}`, 180, posY, { align: \"right\" });\n\n  // Signature/Footer Section\n  posY += 100;\n  doc.setFont(\"helvetica\", \"normal\");\n  doc.setFontSize(10);\n  doc.text(\"Treasurer\", 180, posY, { align: \"right\" });\n  doc.setFontSize(8);\n  doc.text(\"Indian Administrative\", 180, posY + 6, { align: \"right\" });\n  doc.text(\"Service Central Association\", 180, posY + 12, { align: \"right\" });\n\n  // Bottom Footer\n  doc.setFontSize(9);\n  doc.setTextColor(120);\n  doc.text(\n    \"This is a system generated invoice, in case of any query contact us.\",\n    105,\n    285,\n    { align: \"center\" }\n  );\n\n  // Save File\n  doc.save(`Receipt_${tx?.bankTxnId || \"txn\"}.pdf`);\n}\n\n}\n", "<div class=\"tableheading\">\n    <div class=\"d-flex justify-content-between align-items-center flex-wrap mb-3\">\n        <h5 class=\"mb-1\">My Transactions</h5>\n\n    </div>\n\n    <!-- Table -->\n    <div class=\"table-responsive custom-table\">\n        <table class=\"table align-middle mb-0\">\n            <thead>\n                <tr>\n                    <th>S.no</th>\n                    <th>Membership</th>\n                    <th>Status</th>\n                    <th>Amount</th>\n                    <th>Transaction Date</th>\n                    <th class=\"text-center\">Receipts</th>\n                </tr>\n            </thead>\n              <tbody div *ngIf=\"transactions.length !== 0\">\n                <tr *ngFor=\"let tx of transactions; let i = index\">\n                    <td>{{  i + 1 }}</td>\n                    <td class=\"membership\">{{ tx?.userOrderDetails?.memberShip }}</td>\n\n                    <!-- Status with badge -->\n                    <td>\n                        <span class=\"badge px-3 py-1\" [ngClass]=\"{\n            'Success': tx.status === 'Success',\n            'Failed': tx.status === 'Failed' || tx.status === 'Pending'\n          }\">\n                            {{ tx?.status }}\n                        </span>\n                    </td>\n\n                    <td>Rs {{ tx?.txnAmount }}</td>\n                    <td>{{ tx?.txnDate | date:'dd-MM-yyyy HH:mm' }}</td>\n\n                    <!-- Receipt download -->\n                    <td class=\"text-center\">\n                        <p (click)=\"downloadReceipt(tx)\" class=\"btn btn-link p-0\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" viewBox=\"0 0 25 25\"\n                                fill=\"none\">\n                                <mask id=\"mask0_51821_5387\" style=\"mask-type:alpha\" maskUnits=\"userSpaceOnUse\" x=\"0\"\n                                    y=\"0\" width=\"25\" height=\"25\">\n                                    <rect x=\"0.5\" y=\"0.5\" width=\"24\" height=\"24\" fill=\"#D9D9D9\" />\n                                </mask>\n                                <g mask=\"url(#mask0_51821_5387)\">\n                                    <path\n                                        d=\"M12.5 16.5L7.5 11.5L8.9 10.05L11.5 12.65V4.5H13.5V12.65L16.1 10.05L17.5 11.5L12.5 16.5ZM6.5 20.5C5.95 20.5 5.47917 20.3042 5.0875 19.9125C4.69583 19.5208 4.5 19.05 4.5 18.5V15.5H6.5V18.5H18.5V15.5H20.5V18.5C20.5 19.05 20.3042 19.5208 19.9125 19.9125C19.5208 20.3042 19.05 20.5 18.5 20.5H6.5Z\"\n                                        fill=\"#1C1B1F\" />\n                                </g>\n                            </svg>\n                        </p>\n                    </td>\n                </tr>\n            </tbody>\n         \n          <tbody>\n    <tr *ngIf=\"transactions.length === 0\" class=\"text-center\">\n      <td class=\"py-4 fs-4\" colspan=\"6\">No transaction data</td>\n    </tr>\n  </tbody>\n        </table>\n    </div>\n\n\n</div>"],
  "mappings": "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",
  "names": []
}
