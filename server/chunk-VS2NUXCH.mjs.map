{
  "version": 3,
  "sources": ["src/app/website/pages/membership/all-members/all-members.component.ts", "src/app/website/pages/membership/all-members/all-members.component.html"],
  "sourcesContent": ["import { CommonModule } from '@angular/common';\nimport { Component, HostListener, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '../../../../../environments/environment';\n\n@Component({\n  selector: 'app-all-members',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './all-members.component.html',\n  styleUrls: ['./all-members.component.scss']\n})\nexport class AllMembersComponent implements OnInit {\n  cadres: any[] = [];\n  page = 1;             // start at page 1\n  limit = 10;           // API page size\n  total = 0;            // total records from API\n  loading = false;\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit(): void {\n    this.loadCadres();\n  }\n\n  loadCadres(): void {\n    if (this.loading) return;\n    if (this.total && this.cadres.length >= this.total) return; // stop when all loaded\n\n    this.loading = true;\n    this.http.get<any>(\n      `${environment.apiUrl}/admin/users?page=${this.page}&limit=${this.limit}&role=user&sortby=isExecutive`\n    ).subscribe({\n      next: (res) => {\n        const newData = res.data?.data || [];\n        this.cadres = [...this.cadres, ...newData];\n\n        // read total from pagination\n        this.total = +res.data?.pagination?.total || 0;\n\n        // prepare next page\n        this.page++;\n\n        this.loading = false;\n      },\n      error: (err) => {\n        console.error('Error fetching cadres:', err);\n        this.loading = false;\n      }\n    });\n  }\n\n  // Trigger loading when near bottom\n  @HostListener('window:scroll', [])\n  onScroll(): void {\n    const scrollPosition = window.innerHeight + window.scrollY;\n    const threshold = document.body.offsetHeight - 100; // 100px before bottom\n    if (scrollPosition >= threshold) {\n      this.loadCadres();\n    }\n  }\n}\n", "<div class=\"main-allmembers-section\" (window:scroll)=\"onScroll()\">\n    <div class=\"main-gradient\">\n        <div class=\"container\">\n            <div class=\"heading-div\">\n                <nav aria-label=\"breadcrumb\">\n                    <ol class=\"breadcrumb d-flex align-items-center\">\n                        <li class=\"breadcrumb-item m-0\"><a href=\"/homepage\">Home</a></li>\n                        <li class=\"breadcrumb-item active m-0\" aria-current=\"page\">Members</li>\n                    </ol>\n                </nav>\n                <h1>Members’ Directory</h1>\n                <p>Celebrating the People Behind the Profession — Sharing Moments, Interests, and Stories that Connect\n                    Us.</p>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"all-members-cards\">\n        <div class=\"container\">\n            <ng-container *ngFor=\"let member of cadres\">\n                <div class=\"membercards\" *ngIf=\"member.doptOfficer?.profilePic\">\n                    <img [src]=\"member.doptOfficer.profilePic\" [alt]=\"member.doptOfficer.englishName\" draggable=\"false\">\n                    <h1 class=\"mt-2\">{{ member.doptOfficer.englishName }}</h1>\n                </div>\n            </ng-container>\n        </div>\n    </div>\n</div>"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoBgB,IAAA,yBAAA,GAAA,OAAA,EAAA;AACI,IAAA,oBAAA,GAAA,OAAA,EAAA;AACA,IAAA,yBAAA,GAAA,MAAA,EAAA;AAAiB,IAAA,iBAAA,CAAA;AAAoC,IAAA,uBAAA,EAAK;;;;AADrD,IAAA,oBAAA;AAAA,IAAA,qBAAA,OAAA,UAAA,YAAA,YAAA,uBAAA,EAAqC,OAAA,UAAA,YAAA,WAAA;AACzB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,UAAA,YAAA,WAAA;;;;;AAHzB,IAAA,kCAAA,CAAA;AACI,IAAA,qBAAA,GAAA,oDAAA,GAAA,GAAA,OAAA,EAAA;;;;;AAA0B,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,UAAA,eAAA,OAAA,OAAA,UAAA,YAAA,UAAA;;;ADRpC,IAAO,sBAAP,MAAO,qBAAmB;EAO9B,YAAoB,MAAgB;AAAhB,SAAA,OAAA;AANpB,SAAA,SAAgB,CAAA;AAChB,SAAA,OAAO;AACP,SAAA,QAAQ;AACR,SAAA,QAAQ;AACR,SAAA,UAAU;EAE6B;EAEvC,WAAQ;AACN,SAAK,WAAU;EACjB;EAEA,aAAU;AACR,QAAI,KAAK;AAAS;AAClB,QAAI,KAAK,SAAS,KAAK,OAAO,UAAU,KAAK;AAAO;AAEpD,SAAK,UAAU;AACf,SAAK,KAAK,IACR,GAAG,YAAY,MAAM,qBAAqB,KAAK,IAAI,UAAU,KAAK,KAAK,+BAA+B,EACtG,UAAU;MACV,MAAM,CAAC,QAAO;AACZ,cAAM,UAAU,IAAI,MAAM,QAAQ,CAAA;AAClC,aAAK,SAAS,CAAC,GAAG,KAAK,QAAQ,GAAG,OAAO;AAGzC,aAAK,QAAQ,CAAC,IAAI,MAAM,YAAY,SAAS;AAG7C,aAAK;AAEL,aAAK,UAAU;MACjB;MACA,OAAO,CAAC,QAAO;AACb,gBAAQ,MAAM,0BAA0B,GAAG;AAC3C,aAAK,UAAU;MACjB;KACD;EACH;;EAIA,WAAQ;AACN,UAAM,iBAAiB,OAAO,cAAc,OAAO;AACnD,UAAM,YAAY,SAAS,KAAK,eAAe;AAC/C,QAAI,kBAAkB,WAAW;AAC/B,WAAK,WAAU;IACjB;EACF;;;uBAhDW,sBAAmB,4BAAA,UAAA,CAAA;IAAA;EAAA;;yEAAnB,sBAAmB,WAAA,CAAA,CAAA,iBAAA,CAAA,GAAA,cAAA,SAAA,iCAAA,IAAA,KAAA;AAAA,UAAA,KAAA,GAAA;AAAnB,QAAA,qBAAA,UAAA,SAAA,gDAAA;AAAA,iBAAA,IAAA,SAAA;QAAU,GAAA,OAAA,yBAAA;;;;ACZvB,QAAA,yBAAA,GAAA,OAAA,CAAA;AAAqC,QAAA,qBAAA,UAAA,SAAA,qDAAA;AAAA,iBAAiB,IAAA,SAAA;QAAU,GAAA,OAAA,yBAAA;AAC5D,QAAA,yBAAA,GAAA,OAAA,CAAA,EAA2B,GAAA,OAAA,CAAA,EACA,GAAA,OAAA,CAAA,EACM,GAAA,OAAA,CAAA,EACQ,GAAA,MAAA,CAAA,EACwB,GAAA,MAAA,CAAA,EACb,GAAA,KAAA,CAAA;AAAoB,QAAA,iBAAA,GAAA,MAAA;AAAI,QAAA,uBAAA,EAAI;AAC5D,QAAA,yBAAA,GAAA,MAAA,CAAA;AAA2D,QAAA,iBAAA,IAAA,SAAA;AAAO,QAAA,uBAAA,EAAK,EACtE;AAET,QAAA,yBAAA,IAAA,IAAA;AAAI,QAAA,iBAAA,IAAA,yBAAA;AAAkB,QAAA,uBAAA;AACtB,QAAA,yBAAA,IAAA,GAAA;AAAG,QAAA,iBAAA,IAAA,8GAAA;AACI,QAAA,uBAAA,EAAI,EACT,EACJ;AAGV,QAAA,yBAAA,IAAA,OAAA,CAAA,EAA+B,IAAA,OAAA,CAAA;AAEvB,QAAA,qBAAA,IAAA,8CAAA,GAAA,GAAA,gBAAA,EAAA;AAMJ,QAAA,uBAAA,EAAM,EACJ;;;AAPmC,QAAA,oBAAA,EAAA;AAAA,QAAA,qBAAA,WAAA,IAAA,MAAA;;sBDXjC,cAAY,SAAA,IAAA,GAAA,QAAA,CAAA,y/EAAA,EAAA,CAAA;EAAA;;;6EAIX,qBAAmB,EAAA,WAAA,uBAAA,UAAA,yEAAA,YAAA,GAAA,CAAA;AAAA,GAAA;",
  "names": []
}
